<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Radio Tanda | The 24/7 Milonga </title>
    <link href="https://fonts.googleapis.com/css2?family=Rye&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon"/>
    <link rel="manifest" href="/site.webmanifest">
  </head>
  <body>
    <div id="main">
      <div id="content">
        <div><img id="shield" src="img/rt-shield.png"></div>
        <h1>Radio Tanda</h1>
        <h2>Nonstop Argentine tango tandas for you!</h2>
        <div id="now-playing">
          <p id="current-program"></p>
          <div class="clickable" id="open-schedule">(see full schedule)</div>
          <iframe src="https://broadcaster.live365.com/v1/now-playing/large/a22075" width='440px' height='240px' frameborder="0"></iframe>
        </div>
        <div>
          <p>This is an expensive experiment. Please <a href="https://ko-fi.com/T6T11QTWL" target="_blank">help support it!</a></p>
          <script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script><script type='text/javascript'>kofiwidget2.init('Keep Radio Tanda on the air!', '#e0a720', 'T6T11QTWL');kofiwidget2.draw();</script>
        </div>
      </div>
    </div>
    <div id="site-credit">
      Made with <span role="img" aria-label="love">&#128155;</span> by <a href="https://www.jessicaschilling.com" target="_blank" rel="noopener noreferrer">Jessica Schilling</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://github.com/jessicaschilling/radiotanda" target="_blank" rel="noopener noreferrer">GitHub</a>
    </div>

    <div id="schedule-wrapper">
      <div id="schedule">
        <div class="close-x">
          <svg height="30" width="30" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#e0a720" d="M443.6 387.1L312.4 255.4l131.5-130c5.4-5.4 5.4-14.2 0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L256 197.8 124.9 68.3c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L68 105.9c-5.4 5.4-5.4 14.2 0 19.6l131.5 130L68.4 387.1c-2.6 2.6-4.1 6.1-4.1 9.8 0 3.7 1.4 7.2 4.1 9.8l37.4 37.6c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1L256 313.1l130.7 131.1c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1l37.4-37.6c2.6-2.6 4.1-6.1 4.1-9.8-.1-3.6-1.6-7.1-4.2-9.7z"/></svg>
        </div>
        <h2>Schedule</h2>
        <h3>Radio Tanda operates on three eight-hour blocks daily for the best experience across time zones.</h3>
        <br/>
        <h3>BLOCK ONE</h3>
        <ul>
          <li><span class="accent">Alternative Tandas (3-song TTMTTV, with cortinas):</span> 01:00-02:15 UTC / your local time</li>
          <li><span class="accent">Mini Practica (single-song TTMTTV, no cortinas):</span> 02:15-03:00 UTC / your local time</li>
          <li><span class="accent">Traditional Tandas (3-song TTMTTV, with cortinas):</span> 03:00-09:00 UTC / your local time</li>
        </ul>
        <h3>BLOCK TWO</h3>
        <ul>
          <li><span class="accent">Alternative Tandas:</span> 09:00-10:15 UTC / your local time</li>
          <li><span class="accent">Mini Practica:</span> 10:15-11:00 UTC / your local time</li>
          <li><span class="accent">Traditional Tandas:</span> 11:00-17:00 UTC / your local time</li>
        </ul>
        <h3>BLOCK THREE</h3>
        <ul>
          <li><span class="accent">Alternative Tandas:</span> 17:00-18:15 UTC / your local time</li>
          <li><span class="accent">Mini Practica:</span> 18:15-19:00 UTC / your local time</li>
          <li><span class="accent">Traditional Tandas:</span> 19:00-01:00 UTC / your local time</li>
        </ul>
      </div>
    </div>
    <script>
      var modal = document.getElementById("schedule-wrapper");
      var openModal = document.getElementById("open-schedule");
      var closeModal = document.getElementsByClassName("close-x")[0];
      openModal.onclick = function() {
        modal.style.display = "flex";
      }
      closeModal.onclick = function() {
        modal.style.display = "none";
      }
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      }
    </script>
    <script>
      var now = new Date();
      var currentUTCHours = (now.getHours())+(now.getTimezoneOffset()/60);
      var currentMinutesAsDecimal = (now.getMinutes()/60);
      var currentUTCTimeAsDecimal = currentUTCHours+currentMinutesAsDecimal;
      var currentProgram = ""
      console.log(now);
      console.log("Current UTC hh/mm: ", (now.getHours())+(now.getTimezoneOffset()/60), now.getMinutes());
      console.log("Current UTC decimal: ", currentUTCTimeAsDecimal);
      if (currentUTCTimeAsDecimal >= 1 && currentUTCTimeAsDecimal < 2.25) {
        console.log("Currently: Block 1 Alt");
        currentProgram="Current Program: Alternative Tandas (Block 1)";
      } else if (currentUTCTimeAsDecimal >= 2.25 && currentUTCTimeAsDecimal < 3) {
        console.log("Currently: Block 1 Practica");
        currentProgram="Current Program: Mini Pr&aacute;ctica (Block 1)";
      } else if (currentUTCTimeAsDecimal >= 3 && currentUTCTimeAsDecimal < 9) {
        console.log("Currently: Block 1 Trad");
        currentProgram="Current Program: Traditional Tandas (Block 1)";
      } else if (currentUTCTimeAsDecimal >= 9 && currentUTCTimeAsDecimal < 10.25) {
        console.log("Currently: Block 2 Alt");
        currentProgram="Current Program: Alternative Tandas (Block 2)";
      } else if (currentUTCTimeAsDecimal >= 10.25 && currentUTCTimeAsDecimal < 11) { //here
        console.log("Currently: Block 2 Practica");
        currentProgram="Current Program: Mini Pr&aacute;ctica (Block 2)";
      } else if (currentUTCTimeAsDecimal >= 11 && currentUTCTimeAsDecimal < 17) {
        console.log("Currently: Block 2 Trad");
        currentProgram="Current Program: Traditional Tandas (Block 2)";
      } else if (currentUTCTimeAsDecimal >= 17 && currentUTCTimeAsDecimal < 18.25) {
        console.log("Currently: Block 3 Alt");
        currentProgram="Current Program: Alternative Tandas (Block 3)";
      } else if (currentUTCTimeAsDecimal >= 18.25 && currentUTCTimeAsDecimal < 19) {
        console.log("Currently: Block 3 Practica");
        currentProgram="Current Program: Mini Pr&aacute;ctica (Block 3)";
      } else {
        console.log("Currently: Block 3 Trad");
        currentProgram="Current Program: Traditional Tandas (Block 3)";
      }
      document.getElementById("current-program").innerHTML = currentProgram;
    </script>
  </body>
</html>
