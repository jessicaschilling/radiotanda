<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Radio Tanda | The 24/7 Milonga </title>
    <link href="https://fonts.googleapis.com/css2?family=Rye&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon"/>
    <link rel="manifest" href="/site.webmanifest">
  </head>
  <body>
    <div id="main">
      <div id="content">
        <div><img id="shield" src="img/rt-shield.png"></div>
        <h1>Radio Tanda</h1>
        <h2>Nonstop Argentine tango tandas for you!</h2>
        <div id="now-playing">
          <p id="current-program"></p>
          <div class="clickable" id="open-schedule">(see full schedule)</div>
          <iframe src="https://broadcaster.live365.com/v1/now-playing/large/a22075" width='440px' height='240px' frameborder="0"></iframe>
        </div>
        <div>
          <p>This is an expensive experiment. Please <a href="https://ko-fi.com/T6T11QTWL" target="_blank">help support it!</a></p>
          <script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script><script type='text/javascript'>kofiwidget2.init('Keep Radio Tanda on the air!', '#e0a720', 'T6T11QTWL');kofiwidget2.draw();</script>
        </div>
      </div>
    </div>

    <div id="schedule-wrapper">
      <div id="schedule">
        <div class="close-x">
          <svg height="30" width="30" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#e0a720" d="M443.6 387.1L312.4 255.4l131.5-130c5.4-5.4 5.4-14.2 0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L256 197.8 124.9 68.3c-2.6-2.6-6.1-4-9.8-4-3.7 0-7.2 1.5-9.8 4L68 105.9c-5.4 5.4-5.4 14.2 0 19.6l131.5 130L68.4 387.1c-2.6 2.6-4.1 6.1-4.1 9.8 0 3.7 1.4 7.2 4.1 9.8l37.4 37.6c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1L256 313.1l130.7 131.1c2.7 2.7 6.2 4.1 9.8 4.1 3.5 0 7.1-1.3 9.8-4.1l37.4-37.6c2.6-2.6 4.1-6.1 4.1-9.8-.1-3.6-1.6-7.1-4.2-9.7z"/></svg>
        </div>
        <h2>Schedule</h2>
        <h3>Radio Tanda operates on three eight-hour blocks daily for the best experience across time zones.</h3>
        <br/>
        <h3>BLOCK ONE</h3>
        <ul>
          <li><span class="accent">Alternative Tandas:</span> 5:00-6:15pm Los Angeles / 1:00-2:15am London / 9:00-10:15am Singapore</li>
          <li><span class="accent">Mini Practica (single-song TTMTTV, no cortinas):</span>  6:15-7:00pm Los Angeles / 2:15-3:00am London / 10:15-11:00am Singapore</li>
          <li><span class="accent">Traditional Tandas:</span>  7:00pm-1:00am Los Angeles / 3:00-9:00am London / 11:00am-5:00pm Singapore</li>
        </ul>
        <h3>BLOCK TWO</h3>
        <ul>
          <li><span class="accent">Alternative Tandas:</span> 1:00-2:15am Los Angeles / 9:00-10:15am London / 5:00-6:15pm Singapore</li>
          <li><span class="accent">Mini Practica:</span>  2:15-3:00am Los Angeles / 10:15-11:00am London / 6:15-7:00pm Singapore</li>
          <li><span class="accent">Traditional Tandas:</span>  3:00-9:00am Los Angeles / 11:00am-5:00pm London / 7:00pm-1:00am Singapore</li>
        </ul>
        <h3>BLOCK THREE</h3>
        <ul>
          <li><span class="accent">Alternative Tandas:</span> 9:00-10:15am Los Angeles / 5:00-6:15pm London / 1:00-2:15am Singapore</li>
          <li><span class="accent">Mini Practica:</span>  10:15-11:00am Los Angeles / 6:15-7:00pm London / 2:15-3:00am Singapore</li>
          <li><span class="accent">Traditional Tandas:</span>  11:00am-5:00pm Los Angeles / 7:00pm-1:00am London / 3:00-9:00am Singapore</li>
        </ul>
      </div>
    </div>
    <script>
      var modal = document.getElementById("schedule-wrapper");
      var openModal = document.getElementById("open-schedule");
      var closeModal = document.getElementsByClassName("close-x")[0];
      openModal.onclick = function() {
        modal.style.display = "flex";
      }
      closeModal.onclick = function() {
        modal.style.display = "none";
      }
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      }
    </script>
    <script>
      var now = new Date();
      var currentGMTHours = (now.getHours())+(now.getTimezoneOffset()/60);
      var currentMinutesAsDecimal = (now.getMinutes()/60);
      var currentGMTTimeAsDecimal = currentGMTHours+currentMinutesAsDecimal;
      var currentProgram = ""
      console.log(now);
      console.log("Current GMT hh/mm: ", (now.getHours())+(now.getTimezoneOffset()/60), now.getMinutes());
      console.log("Current GMT decimal: ", currentGMTTimeAsDecimal);

      if (currentGMTTimeAsDecimal > 1 && currentGMTTimeAsDecimal < 2.25) {
        console.log("Currently: alt 1");
        currentProgram="Current Program: Alternative Tandas";
      } else if (currentGMTTimeAsDecimal > 2.25 && currentGMTTimeAsDecimal < 3) {
        console.log("Currently: practica 1");
        currentProgram="Current Program: Mini Pr&aacute;ctica";
      } else if (currentGMTTimeAsDecimal > 3 && currentGMTTimeAsDecimal < 9) {
        console.log("Currently: trad 1");
        currentProgram="Current Program: Traditional Tandas";
      } else if (currentGMTTimeAsDecimal > 9 && currentGMTTimeAsDecimal < 10.25) {
        console.log("Currently: alt 2");
        currentProgram="Current Program: Alternative Tandas";
      } else if (currentGMTTimeAsDecimal > 10.25 && currentGMTTimeAsDecimal < 11) {
        console.log("Currently: practica 2");
        currentProgram="Current Program: Mini Pr&aacute;ctica";
      } else if (currentGMTTimeAsDecimal > 11 && currentGMTTimeAsDecimal < 17) {
        console.log("Currently: trad 2");
        currentProgram="Current Program: Traditional Tandas";
      } else if (currentGMTTimeAsDecimal > 17 && currentGMTTimeAsDecimal < 18.25) {
        console.log("Currently: alt 3");
        currentProgram="Current Program: Alternative Tandas";
      } else if (currentGMTTimeAsDecimal > 18.25 && currentGMTTimeAsDecimal < 19) {
        console.log("Currently: practica 3");
        currentProgram="Current Program: Mini Pr&aacute;ctica";
      } else {
        console.log("Currently: trad 3");
        currentProgram="Current Program: Traditional Tandas";
      }

      document.getElementById("current-program").innerHTML = currentProgram;

    </script>
  </body>
</html>
