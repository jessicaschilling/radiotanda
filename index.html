<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Radio Tanda | 24/7 Tango Tunes </title>
    <link href="https://fonts.googleapis.com/css2?family=Rye&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon"/>
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon"/>
    <link rel="manifest" href="/site.webmanifest">
  </head>
  <body>
    <div id="main">
      <div id="content">
        <div><img id="shield" src="img/rt-shield.png"></div>
        <h1>Radio Tanda</h1>
        <h2>Nonstop Argentine tango tunes for you!</h2>
        <div id="now-playing">
          <h3 id="current-program"></h3>
          <div class="clickable" id="show_schedule_link" onclick = "show_schedule()">(see full schedule)</div>

          <div id="schedule">
            <h3>Daily Schedule</h3>
            <div class="clickable" onclick = "hide_schedule()">(close)</div>
            <br/>
            <div>To comply with <a href="https://github.com/jessicaschilling/radiotanda#a-sad-but-important-note" target="_blank">U.S. DMCA laws</a> for streaming music, we play 3 hours of traditional music, followed by 1 hour of alternative and modern-orquesta music, and then repeat. Here's a list of when those time slots start:</div>
            <p>Tango Classics (traditional)</p>
              <span class="accent">03:00-06:00 UTC </span> <span class="local-utc-offset"></span><br/>
              <span class="accent">07:00-10:00 UTC</span> <span class="local-utc-offset"></span><br/>
              <span class="accent">11:00-14:00 UTC </span> <span class="local-utc-offset"></span><br/>
              <span class="accent">15:00-18:00 UTC </span> <span class="local-utc-offset"></span></br>
              <span class="accent">19:00-22:00 UTC</span> <span class="local-utc-offset"></span><br/>
              <span class="accent">23:00-02:00 UTC </span> <span class="local-utc-offset"></span>
            <p>New Sounds (modern orquestas and alternative)</p>
              <span class="accent">02:00-03:00 UTC </span> <span class="local-utc-offset"></span><br/>
              <span class="accent">06:00-07:00 UTC </span> <span class="local-utc-offset"></span><br/>
              <span class="accent">10:00-11:00 UTC</span> <span class="local-utc-offset"></span><br/>
              <span class="accent">14:00-15:00 UTC </span> <span class="local-utc-offset"></span><br/>
              <span class="accent">18:00-19:00 UTC </span> <span class="local-utc-offset"></span></br>
              <span class="accent">22:00-23:00 UTC</span> <span class="local-utc-offset"></span>

            <br/><br/>
            Note that in order to satisfy DMCA rules, you may also hear an alternative song in the traditional programming here and there.
            <br/><br/>
            No matter the program, every song indicates which dance it's for &mdash; just look for the <span class="accent">T</span> (tango), <span class="accent">V</span> (valse) or <span class="accent">M</span> (milonga) image next to the song title!

            <!-- <p>Traditional Tandas (3-song TTMTTV, with cortinas)</p>
              <span class="accent">02:00-08:00 UTC</span> <span class="local-utc-offset"></span><br/>
              <span class="accent">10:00-16:00 UTC </span> <span class="local-utc-offset"></span><br/>
              <span class="accent">18:00-00:00 UTC </span> <span class="local-utc-offset"></span>
            <p>Alternative Tandas (3-song TTMTTV, with cortinas)</p>
              <span class="accent">08:00-09:15 UTC</span> <span class="local-utc-offset"></span><br/>
              <span class="accent">16:00-17:15 UTC </span> <span class="local-utc-offset"></span><br/>
              <span class="accent">00:00-01:15 UTC </span> <span class="local-utc-offset"></span>
            <p>Mini Practica (single-song TTMTTV, no cortinas)</p>
              <span class="accent">09:15-10:00 UTC</span> <span class="local-utc-offset"></span><br/>
              <span class="accent">17:15-18:00 UTC</span> <span class="local-utc-offset"></span><br/>
              <span class="accent">01:15-02:00 UTC</span> <span class="local-utc-offset"></span> -->
          </div>

          <div id="widget-horizontal"><iframe src="https://broadcaster.live365.com/v1/now-playing/large/a22075" width='440px' height='240px' frameborder="0"></iframe></div>
          <div id="widget-vertical"><iframe src="https://broadcaster.live365.com/v1/now-playing/small/a22075" width='220px' height='380px' frameborder="0"></iframe></div>
        </div>
        <div>
          <p>This is an expensive experiment. Please <a href="https://ko-fi.com/T6T11QTWL" target="_blank">help fund it!</a></p>
          <script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script><script type='text/javascript'>kofiwidget2.init('Keep Radio Tanda on the air!', '#e0a720', 'T6T11QTWL');kofiwidget2.draw();</script>
        </div>
      </div>
    </div>
    <div id="site-credit">
      Made with <span role="img" aria-label="love">&#128155;</span> by <a href="https://www.jessicaschilling.com" target="_blank" rel="noopener noreferrer">Jessica Schilling</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://github.com/jessicaschilling/radiotanda" target="_blank" rel="noopener noreferrer">GitHub</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="mailto:radiotanda@jessicaschilling.com">Email</a>
    </div>

    <script>function show_schedule() {document.getElementById("schedule").style.display= "block"; document.getElementById("show_schedule_link").style.display= "none";}</script>
    <script>function hide_schedule() {document.getElementById("schedule").style.display= "none"; document.getElementById("show_schedule_link").style.display= "block";}</script>
    <script>
      var now = new Date();
      var currentUTCHours = (now.getHours())+(now.getTimezoneOffset()/60);

      if (currentUTCHours >= 24) {
        currentUTCHours = (currentUTCHours - 24)
      }
      //if more than 24, subtract 24

      var localUTCOffset = (now.getTimezoneOffset()/60);
      var localUTCOffsetSign = Math.sign(localUTCOffset);
      var localUTCOffsetWord =""
      var currentMinutesAsDecimal = (now.getMinutes()/60);
      var currentUTCTimeAsDecimal = currentUTCHours+currentMinutesAsDecimal;
      var currentProgram = ""
      console.log(now);
      console.log("Local UTC offset: ", localUTCOffset);
      console.log("Current UTC hh/mm: ", currentUTCHours, now.getMinutes());
      console.log("Current UTC decimal: ", currentUTCTimeAsDecimal);
      if (localUTCOffsetSign == 1) {
        localUTCOffsetWord = "+";
      }
      if (currentUTCTimeAsDecimal >= 2 && currentUTCTimeAsDecimal < 3) {
        console.log("Program: Alt 6");
        currentProgram="Current Program: New Sounds";
      } else if (currentUTCTimeAsDecimal >= 3 && currentUTCTimeAsDecimal < 6) {
        console.log("Program: Trad 6");
        currentProgram="Current Program: Tango Classics";
      } else if (currentUTCTimeAsDecimal >= 6 && currentUTCTimeAsDecimal < 7) {
        console.log("Program: Alt 1");
        currentProgram="Current Program: New Sounds";
      } else if (currentUTCTimeAsDecimal >= 7 && currentUTCTimeAsDecimal < 10) {
        console.log("Program: Trad 1");
        currentProgram="Current Program: Tango Classics";
      } else if (currentUTCTimeAsDecimal >= 10 && currentUTCTimeAsDecimal < 11) {
        console.log("Program: Alt 2");
        currentProgram="Current Program: New Sounds";
      } else if (currentUTCTimeAsDecimal >= 11 && currentUTCTimeAsDecimal < 14) {
        console.log("Program: Trad 2");
        currentProgram="Current Program: Tango Classics";
      } else if (currentUTCTimeAsDecimal >= 14 && currentUTCTimeAsDecimal < 15) {
        console.log("Program: Alt 3");
        currentProgram="Current Program: New Sounds";
      } else if (currentUTCTimeAsDecimal >= 15 && currentUTCTimeAsDecimal < 18) {
        console.log("Program: Trad 3");
        currentProgram="Current Program: Tango Classics";
      } else if (currentUTCTimeAsDecimal >= 18 && currentUTCTimeAsDecimal < 19) {
        console.log("Program: Alt 4");
        currentProgram="Current Program: New Sounds";
      } else if (currentUTCTimeAsDecimal >= 19 && currentUTCTimeAsDecimal <22) {
        console.log("Program: Trad 4");
        currentProgram="Current Program: Tango Classics";
      } else if (currentUTCTimeAsDecimal >= 22 && currentUTCTimeAsDecimal < 23) {
        console.log("Program: Alt 5");
        currentProgram="Current Program: New Sounds";
      } else {
        console.log("Program: Trad 5");
        currentProgram="Current Program: Tango Classics";

      // OLD SKED IF WE CAN EVER HAVE TANDAS :(
      // if (currentUTCTimeAsDecimal >= 0 && currentUTCTimeAsDecimal < 1.25) {
      //   console.log("Currently: Block 1 Alt");
      //   currentProgram="Current Program: Alternative Tandas";
      // } else if (currentUTCTimeAsDecimal >= 1.25 && currentUTCTimeAsDecimal < 2) {
      //   console.log("Currently: Block 1 Practica");
      //   currentProgram="Current Program: Mini Pr&aacute;ctica";
      // } else if (currentUTCTimeAsDecimal >= 2 && currentUTCTimeAsDecimal < 8) {
      //   console.log("Currently: Block 1 Trad");
      //   currentProgram="Current Program: Traditional Tandas";
      // } else if (currentUTCTimeAsDecimal >= 8 && currentUTCTimeAsDecimal < 9.25) {
      //   console.log("Currently: Block 2 Alt");
      //   currentProgram="Current Program: Alternative Tandas";
      // } else if (currentUTCTimeAsDecimal >= 9.25 && currentUTCTimeAsDecimal < 10) { //here
      //   console.log("Currently: Block 2 Practica");
      //   currentProgram="Current Program: Mini Pr&aacute;ctica";
      // } else if (currentUTCTimeAsDecimal >= 10 && currentUTCTimeAsDecimal < 16) {
      //   console.log("Currently: Block 2 Trad");
      //   currentProgram="Current Program: Traditional Tandas";
      // } else if (currentUTCTimeAsDecimal >= 16 && currentUTCTimeAsDecimal < 17.25) {
      //   console.log("Currently: Block 3 Alt");
      //   currentProgram="Current Program: Alternative Tandas";
      // } else if (currentUTCTimeAsDecimal >= 17.25 && currentUTCTimeAsDecimal < 18) {
      //   console.log("Currently: Block 3 Practica");
      //   currentProgram="Current Program: Mini Pr&aacute;ctica";
      // } else {
      //   console.log("Program: Block 3 Trad");
      //   currentProgram="Current Program: Traditional Tandas";
      }
      document.getElementById("current-program").innerHTML = currentProgram;
      for(var i = 0; i < document.getElementsByClassName("local-utc-offset").length; i++){
        document.getElementsByClassName("local-utc-offset")[i].innerHTML = "(" + localUTCOffsetWord + localUTCOffset + "h from your local time)";
      }
    </script>
  </body>
</html>
